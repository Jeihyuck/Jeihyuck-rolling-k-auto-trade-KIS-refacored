name: Trade Monitor (5‑min)

on:
  workflow_dispatch: {}
  schedule:
    - cron: '*/5 * * * *'


jobs:
  monitor-trade:
    runs-on: ubuntu-latest
    timeout-minutes: 30   # 기본 6시간에서 더 줄일 수도 있음
    env:
      KIS_APP_KEY: ${{ secrets.KIS_APP_KEY }}
      KIS_APP_SECRET: ${{ secrets.KIS_APP_SECRET }}
      CANO: ${{ secrets.CANO }}
      ACNT_PRDT_CD: ${{ secrets.ACNT_PRDT_CD }}
      KIS_ENV: ${{ secrets.KIS_ENV }}
      SLACK_WEBHOOK: ${{ secrets.SLACK_WEBHOOK }}
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-python@v4
        with:
          python-version: '3.11'
      - run: pip install -r requirements.txt
      - run: python trader/trader.py





          